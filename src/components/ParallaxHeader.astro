<!-- Preload Background Image -->
<script>
  const img = new Image();
  img.src = "/bg.webp";
</script>

<!-- Parallax Section -->
<div class="main">
    <!-- Background Video (Initially Hidden) -->
    <video id="bgVideo" class="bg-video" autoplay muted loop playsinline>
        <source src="/bg.mp4" type="video/mp4">
        <!-- Fallback if video is not supported -->
        Your browser does not support the video tag.
    </video>

    <div class="maintext">
        <h1>Same Day Appliance Repair</h1>
        <p>Need fast, reliable appliance repair? Look no further! Our team offers same-day, expert repair services for all major home and commercial appliances...</p>
        <p>Weâ€™re trusted by customers throughout Los Angeles to repair top brands like KitchenAid, Frigidaire, LG, Samsung, GE, Sub-Zero, Wolf, and more...</p>
    </div>
</div> 

<!-- Buttons Section -->
<div class="menu">
    <a style="--clr: #7808d0" class="button" href="#price-list">Price List</a>
    <a style="--clr: #7808d0" class="button" href="#wolf-stove-repair">Repair</a>
    <a style="--clr: #7808d0" class="button" href="#wolf-stove-installation">Installation</a>
    <a style="--clr: #7808d0" class="button" href="#wolf-stove-cleaning">Cleaning</a>
</div>

<!-- Styles -->
<style>
/* Full-Screen Background */
.main {
    position: relative;
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: url("/bg.webp") no-repeat center center/cover;
    background-attachment: fixed;
    transition: background 0.5s ease-in-out;
}

/* Background Video Styling */
.bg-video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0; /* Start hidden */
    transition: opacity 1s ease-in-out;
    z-index: -1; /* Behind content */
}

/* Dark Overlay for Readability */
.main::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.2);
    z-index: 0;
}

/* Glass Effect on Text Box */
.maintext {
    position: relative;
    padding: 30px;
    max-width: 800px;
    border-radius: 12px;
    text-align: center;
    background: rgba(0, 0, 0, 0.6);
    color: white;
    backdrop-filter: blur(10px);
    z-index: 1;
}

/* Responsive Fix */
@media (max-width: 1024px) {
    .main {
        background-attachment: scroll;
    }
}

@media (max-width: 768px) {
    .maintext {
        backdrop-filter: none;
        background: rgba(0, 0, 0, 0.8);
    }
    .bg-video {
        display: none; /* Disable video for mobile */
    }
}
</style>

<!-- Script to Switch to Video Background -->
<script defer>
  window.addEventListener("load", () => {
    setTimeout(() => {
        const video = document.getElementById("bgVideo");
        if (video) {
            video.style.opacity = "1"; // Fade in video
        }
    }, 500); // Delay to ensure bg.webp is visible first
  });
</script>
